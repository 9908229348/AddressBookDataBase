Uc1-Ability to create a Address Book Service DB

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| payroll_service    |
| performance_schema |
| sakila             |
| sys                |
| world              |
+--------------------+
7 rows in set (0.00 sec)

mysql> create database addressbook_service;
Query OK, 1 row affected (0.10 sec)

mysql> show databases;
+---------------------+
| Database            |
+---------------------+
| addressbook_service |
| information_schema  |
| mysql               |
| payroll_service     |
| performance_schema  |
| sakila              |
| sys                 |
| world               |
+---------------------+
8 rows in set (0.08 sec)

mysql>

Uc2-Ability to create a AddressBook Table with first and last names, address, city,state,zip, phone numberand email as its attributes

mysql> use addressbook_service;
Database changed
mysql> select database();
+---------------------+
| database()          |
+---------------------+
| addressbook_service |
+---------------------+
1 row in set (0.00 sec)

mysql> create table addressbook
    -> (
    -> firstname varchar(150) NOT NULL,
    -> lastname varchar(150) NOT NULL,
    -> address varchar(150) NOT NULL,
    -> city varchar(150) NOT NULL,
    -> state varchar(150) NOT NULL,
    -> zip varchar(150) NOT NULL,
    -> mobilenumber varchar(150) NOT NULL,
    -> email varchar(150) NOT NULL
    -> );
Query OK, 0 rows affected (1.67 sec)

mysql> describe addressbook;
+--------------+--------------+------+-----+---------+-------+
| Field        | Type         | Null | Key | Default | Extra |
+--------------+--------------+------+-----+---------+-------+
| firstname    | varchar(150) | NO   |     | NULL    |       |
| lastname     | varchar(150) | NO   |     | NULL    |       |
| address      | varchar(150) | NO   |     | NULL    |       |
| city         | varchar(150) | NO   |     | NULL    |       |
| state        | varchar(150) | NO   |     | NULL    |       |
| zip          | varchar(150) | NO   |     | NULL    |       |
| mobilenumber | varchar(150) | NO   |     | NULL    |       |
| email        | varchar(150) | NO   |     | NULL    |       |
+--------------+--------------+------+-----+---------+-------+
8 rows in set (0.00 sec)

mysql>

Uc3- Ability to insert new Contacts to AddressBook

mysql> insert into addressbook ( firstname, lastname, address, city, state, zip, mobilenumber,email) values
    -> ( 'sravanthi', 'kallavai', '2/115', 'kurnool', 'andhrapradesh','515626', '9908229348', 'kalavai4@gmail.com'),
    -> ( 'bhavya', 'maligi', '3/343', 'kadapa', 'ts', ' 515765', '8975686645', 'bhavi@gmail.com'),
    -> ( 'hema', 'chitti', '4/987', 'anantapur', 'kerala', '515262', '7869875643', 'hema@gmail.com');
Query OK, 3 rows affected (0.14 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> select * from addressbook;
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
| firstname | lastname | address | city      | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
| sravanthi | kallavai | 2/115   | kurnool   | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | 3/343   | kadapa    | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| hema      | chitti   | 4/987   | anantapur | kerala        | 515262  | 7869875643   | hema@gmail.com     |
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
3 rows in set (0.04 sec)

mysql>

Uc4- Edit Contact Details of Person using name

mysql> select * from addressbook;
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
| firstname | lastname | address | city      | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
| sravanthi | kallavai | 2/115   | kurnool   | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | 3/343   | kadapa    | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| hema      | chitti   | 4/987   | anantapur | kerala        | 515262  | 7869875643   | hema@gmail.com     |
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
3 rows in set (0.04 sec)

mysql> update addressbook set city = 'chittoor' where firstname = 'sravanthi';
Query OK, 1 row affected (0.13 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from addressbook;
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
| firstname | lastname | address | city      | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
| sravanthi | kallavai | 2/115   | chittoor  | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | 3/343   | kadapa    | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| hema      | chitti   | 4/987   | anantapur | kerala        | 515262  | 7869875643   | hema@gmail.com     |
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
3 rows in set (0.04 sec)

mysql> update addressbook set lastname = 'kaluvayi' where firstname = 'sravanthi';
Query OK, 1 row affected (0.10 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from addressbook;
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
| firstname | lastname | address | city      | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
| sravanthi | kaluvayi | 2/115   | chittoor  | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | 3/343   | kadapa    | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| hema      | chitti   | 4/987   | anantapur | kerala        | 515262  | 7869875643   | hema@gmail.com     |
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
3 rows in set (0.00 sec)

mysql>

Uc5-Delete a Person using persons name

mysql> select * from addressbook;
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
| firstname | lastname | address | city      | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
| sravanthi | kaluvayi | 2/115   | chittoor  | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | 3/343   | kadapa    | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| hema      | chitti   | 4/987   | anantapur | kerala        | 515262  | 7869875643   | hema@gmail.com     |
+-----------+----------+---------+-----------+---------------+---------+--------------+--------------------+
3 rows in set (0.00 sec)

mysql> delete from addressbook where firstname = 'hema';
Query OK, 1 row affected (0.13 sec)

mysql> select * from addressbook;
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | lastname | address | city     | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | kaluvayi | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
2 rows in set (0.09 sec)

Uc6-Ability to Retrieve Person belonging to a City or State from the Address Book

mysql> select * from addressbook;
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | lastname | address | city     | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | kaluvayi | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
2 rows in set (0.09 sec)

mysql> select from addressbook where city = 'kadapa' or state = 'ts';
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from addressbook where city = 'kadapa' or state = 'ts'' at line 1
mysql> select * from addressbook where city = 'kadapa' or state = 'ts';
+-----------+----------+---------+--------+-------+---------+--------------+-----------------+
| firstname | lastname | address | city   | state | zip     | mobilenumber | email           |
+-----------+----------+---------+--------+-------+---------+--------------+-----------------+
| bhavya    | maligi   | 3/343   | kadapa | ts    |  515765 | 8975686645   | bhavi@gmail.com |
+-----------+----------+---------+--------+-------+---------+--------------+-----------------+
1 row in set (0.00 sec)

mysql>

Uc7-Ability to understand the size of addressbook by City and State

mysql> select * from addressbook;
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | lastname | address | city     | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | kaluvayi | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | busu     | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     | abc      | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.04 sec)

mysql> select state,count(state) from addressbook group by state;
+---------------+--------------+
| state         | count(state) |
+---------------+--------------+
| andhrapradesh |            1 |
| ts            |            1 |
| ap            |            2 |
+---------------+--------------+
3 rows in set (0.00 sec)

mysql> select city,count(city) from addressbook group by city;
+----------+-------------+
| city     | count(city) |
+----------+-------------+
| chittoor |           1 |
| kadapa   |           2 |
| hyd      |           1 |
+----------+-------------+
3 rows in set (0.00 sec)

Uc8-Ability to retrieve entries sorted alphabetically by Personâ€™s name for a given city

mysql> select * from addressbook order by firstname;
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | lastname | address | city     | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
| bhavya    | maligi   | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| buddu     | abc      | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
| sravanthi | kaluvayi | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| teja      | busu     | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.04 sec)

mysql> select * from addressbook where city = 'kadapa' order by firstname;
+-----------+----------+---------+--------+-------+---------+--------------+-----------------+
| firstname | lastname | address | city   | state | zip     | mobilenumber | email           |
+-----------+----------+---------+--------+-------+---------+--------------+-----------------+
| bhavya    | maligi   | 3/343   | kadapa | ts    |  515765 | 8975686645   | bhavi@gmail.com |
| teja      | busu     | 11/23   | kadapa | ap    | 123456  | 7689847382   | teja@gmail.com  |
+-----------+----------+---------+--------+-------+---------+--------------+-----------------+
2 rows in set (0.00 sec)

Uc9-Ability to identify each Address Book with name and Type.

mysql> select * from addressbook;
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | lastname | address | city     | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | kaluvayi | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | busu     | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     | abc      | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
+-----------+----------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.00 sec)

mysql> alter table addressbook add type varchar(150) not null after lastname;
Query OK, 0 rows affected (1.38 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select * from addressbook;
+-----------+----------+------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | lastname | type | address | city     | state         | zip     | mobilenumber | email              |
+-----------+----------+------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | kaluvayi |      | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   |      | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | busu     |      | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     | abc      |      | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
+-----------+----------+------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.04 sec)

mysql> update addressbook set type = 'family' where firstname = 'sravanthi' or firstname = 'buddu';
Query OK, 2 rows affected (0.13 sec)
Rows matched: 2  Changed: 2  Warnings: 0

mysql> select * from addressbook;
+-----------+----------+--------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | lastname | type   | address | city     | state         | zip     | mobilenumber | email              |
+-----------+----------+--------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | kaluvayi | family | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   |        | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | busu     |        | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     | abc      | family | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
+-----------+----------+--------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.00 sec)

mysql> update addressbook set type = 'friends' where firstname = 'bhavya';
Query OK, 1 row affected (0.14 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from addressbook;
+-----------+----------+---------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | lastname | type    | address | city     | state         | zip     | mobilenumber | email              |
+-----------+----------+---------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | kaluvayi | family  | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | friends | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | busu     |         | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     | abc      | family  | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
+-----------+----------+---------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.00 sec)

mysql> update addressbook set type = 'profession' where firstname = 'teja';
Query OK, 1 row affected (0.09 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from addressbook;
+-----------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | lastname | type       | address | city     | state         | zip     | mobilenumber | email              |
+-----------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | kaluvayi | family     | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | maligi   | friends    | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | busu     | profession | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     | abc      | family     | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
+-----------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.05 sec)


mysql> alter table addressbook add addressBookname varchar(150) not null after firstname;
Query OK, 0 rows affected (1.99 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select * from addressbook;
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | addressBookname | lastname | type       | address | city     | state         | zip     | mobilenumber | email              |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi |                 | kaluvayi | family     | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    |                 | maligi   | friends    | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      |                 | busu     | profession | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     |                 | abc      | family     | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.00 sec)

mysql> update addressbook set addressBookname = 'ad1' where firstname = 'teja' or firstname = 'bhavya';
Query OK, 2 rows affected (0.05 sec)
Rows matched: 2  Changed: 2  Warnings: 0

mysql> select * from addressbook;
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | addressBookname | lastname | type       | address | city     | state         | zip     | mobilenumber | email              |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi |                 | kaluvayi | family     | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | ad1             | maligi   | friends    | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | ad1             | busu     | profession | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     |                 | abc      | family     | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.06 sec)

mysql> update addressbook set addressBookname = 'ad2' where firstname = 'buddu' or firstname = 'sravanthi';
Query OK, 2 rows affected (0.13 sec)
Rows matched: 2  Changed: 2  Warnings: 0

mysql> select * from addressbook;
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | addressBookname | lastname | type       | address | city     | state         | zip     | mobilenumber | email              |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | ad2             | kaluvayi | family     | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | ad1             | maligi   | friends    | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | ad1             | busu     | profession | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     | ad2             | abc      | family     | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.00 sec)

Uc10-Ability to get number of contact persons i.e. count by type

mysql> select * from addressbook;
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | addressBookname | lastname | type       | address | city     | state         | zip     | mobilenumber | email              |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | ad2             | kaluvayi | family     | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | ad1             | maligi   | friends    | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | ad1             | busu     | profession | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     | ad2             | abc      | family     | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
4 rows in set (0.00 sec)

mysql> select type,count(type) from addressbook group by type;
+------------+-------------+
| type       | count(type) |
+------------+-------------+
| family     |           2 |
| friends    |           1 |
| profession |           1 |
+------------+-------------+
3 rows in set (0.00 sec)

Uc11-Ability to add person to both Friend and Family

mysql> insert into addressbook (firstname, addressBookname, lastname, type, address, city, state, zip, mobilenumber, email) values
    -> ('chitti','ad1','def','friends','12-34','kurnool','ts','435678','8765432109','abc@gia.com');
Query OK, 1 row affected (0.10 sec)

mysql> select * from addressbook;
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | addressBookname | lastname | type       | address | city     | state         | zip     | mobilenumber | email              |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | ad2             | kaluvayi | family     | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | ad1             | maligi   | friends    | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | ad1             | busu     | profession | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     | ad2             | abc      | family     | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
| chitti    | ad1             | def      | friends    | 12-34   | kurnool  | ts            | 435678  | 8765432109   | abc@gia.com        |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
5 rows in set (0.04 sec)

mysql> insert into addressbook (firstname, addressBookname, lastname, type, address, city, state, zip, mobilenumber, email) values
    -> ('chitti','ad1','def','family','12-34','kurnool','ts','435678','8765432109','abc@gia.com');
Query OK, 1 row affected (0.13 sec)

mysql> select * from addressbook;
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| firstname | addressBookname | lastname | type       | address | city     | state         | zip     | mobilenumber | email              |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
| sravanthi | ad2             | kaluvayi | family     | 2/115   | chittoor | andhrapradesh | 515626  | 9908229348   | kalavai4@gmail.com |
| bhavya    | ad1             | maligi   | friends    | 3/343   | kadapa   | ts            |  515765 | 8975686645   | bhavi@gmail.com    |
| teja      | ad1             | busu     | profession | 11/23   | kadapa   | ap            | 123456  | 7689847382   | teja@gmail.com     |
| buddu     | ad2             | abc      | family     | 32/42   | hyd      | ap            | 435765  | 8764532343   | buddu@gmail.com    |
| chitti    | ad1             | def      | friends    | 12-34   | kurnool  | ts            | 435678  | 8765432109   | abc@gia.com        |
| chitti    | ad1             | def      | family     | 12-34   | kurnool  | ts            | 435678  | 8765432109   | abc@gia.com        |
+-----------+-----------------+----------+------------+---------+----------+---------------+---------+--------------+--------------------+
6 rows in set (0.00 sec)

Uc13-Ensure all retrieve queries done especially in UC 6, UC 7, UC 8 and UC 10 are working with new table structure

mysql> create database addressbook_Normalization;
Query OK, 1 row affected (0.16 sec)

mysql> show databases;
+---------------------------+
| Database                  |
+---------------------------+
| addressbook_normalization |
| addressbook_service       |
| information_schema        |
| mysql                     |
| payroll_service           |
| performance_schema        |
| sakila                    |
| sys                       |
| world                     |
+---------------------------+
9 rows in set (0.00 sec)

mysql> use addressbook_Normalization;
Database changed
mysql> create table contact_type
    -> (
    -> type_id int not null auto_increment,
    -> type_name varchar(250),
    -> PRIMARY KEY(type_id)
    -> );
Query OK, 0 rows affected (1.86 sec)

mysql> describe contact_type;
+-----------+--------------+------+-----+---------+----------------+
| Field     | Type         | Null | Key | Default | Extra          |
+-----------+--------------+------+-----+---------+----------------+
| type_id   | int          | NO   | PRI | NULL    | auto_increment |
| type_name | varchar(250) | YES  |     | NULL    |                |
+-----------+--------------+------+-----+---------+----------------+
2 rows in set (0.00 sec)

mysql> insert into contact_type (type_name) values
    -> ('Friends'),
    -> ('Family'),
    -> ('Profession');
Query OK, 3 rows affected (0.15 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> select * from contact_type;
+---------+------------+
| type_id | type_name  |
+---------+------------+
|       1 | Friends    |
|       2 | Family     |
|       3 | Profession |
+---------+------------+
3 rows in set (0.01 sec)

mysql> create table contact
    -> (
    -> contact_id^C
mysql> create table addressbook;
ERROR 4028 (HY000): A table must have at least one visible column.
mysql> create table addressbook
    -> (
    -> addressbook_id int not null auto_increment,
    -> addressbook_name varchar(250),
    -> PRIMARY KEY(addressbook_id)
    -> );
Query OK, 0 rows affected (1.45 sec)

mysql> drop table contact;
ERROR 1051 (42S02): Unknown table 'addressbook_normalization.contact'
mysql> drop table addressbook;
Query OK, 0 rows affected (0.41 sec)

mysql> create table person
    -> (
    -> person_id int not null auto_increment,
    -> first_name varchar(250),
    -> last_name varchar(250)
    -> ^C
mysql> create table person
    -> (
    -> person_id int not null auto_increment,
    -> first_name varchar(250),
    -> last_name varchar(250),
    -> PRIMARY KEY(person_id)
    -> );
Query OK, 0 rows affected (0.61 sec)

mysql> insert into person (first_name, last_name) values
    -> ('Kallavai', 'Sravanthi'),
    -> ('Bhavya', 'Maligi'),
    -> ('Teja', 'Busu');
Query OK, 3 rows affected (0.23 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> select * from person;
+-----------+------------+-----------+
| person_id | first_name | last_name |
+-----------+------------+-----------+
|         1 | Kallavai   | Sravanthi |
|         2 | Bhavya     | Maligi    |
|         3 | Teja       | Busu      |
+-----------+------------+-----------+
3 rows in set (0.01 sec)

mysql> insert into person (first_name, last_name) values
    -> ('chitti', 'abc'),
    -> ('Buddu', 'def');
Query OK, 2 rows affected (0.19 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> select * from person;
+-----------+------------+-----------+
| person_id | first_name | last_name |
+-----------+------------+-----------+
|         1 | Kallavai   | Sravanthi |
|         2 | Bhavya     | Maligi    |
|         3 | Teja       | Busu      |
|         4 | chitti     | abc       |
|         5 | Buddu      | def       |
+-----------+------------+-----------+
5 rows in set (0.00 sec)

mysql> create table person_type
    -> (
    -> person_id int,
    -> type_id int,
    -> FOREIGN KEY(type_id) REFERENCES contact_type(type_id),
    -> FOREIGN KEY(person_id) REFERENCES person(person_id)
    -> );
Query OK, 0 rows affected (2.39 sec)

mysql> insert into person_type(person_id, type_id) values
    -> (1, 3),
    -> (2, 1),
    -> (3, 2),
    -> (4, 1),
    -> (5, 3);
Query OK, 5 rows affected (0.23 sec)
Records: 5  Duplicates: 0  Warnings: 0

mysql> select * from person_type;
+-----------+---------+
| person_id | type_id |
+-----------+---------+
|         1 |       3 |
|         2 |       1 |
|         3 |       2 |
|         4 |       1 |
|         5 |       3 |
+-----------+---------+
5 rows in set (0.04 sec)

mysql> create table person_details
    -> (
    -> person_id int,
    -> address varchar(250),
    -> city varchar(250),
    -> state varchar(250),
    -> zip varchar(250),
    -> phonenumber(250)
    -> );
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(250)
)' at line 8
mysql> create table person_details
    -> (
    -> person_id int,
    -> address varchar(250),
    -> city varchar(250),
    -> state varchar(250),
    -> zip varchar(250),
    -> phonenumber varchar(250)
    -> );
Query OK, 0 rows affected (1.72 sec)

mysql> insert into person_details(person_id, address, city, state, zip, phonenumber) values
    -> (1, 'aaa', 'bbb', 'ccc', '123456', '9876543210'),
    -> (2, 'ddd', 'eee', 'fff', '234567','8765432109'),
    -> (3, 'ggg', 'hhh', 'iii', '345678', '7654321098'),
    -> (4, 'jjj', 'kkk', 'lll', '456789', '6543210987'),
    -> (5, 'mmm', 'nnn', 'ooo', '567893', '9807654321');
Query OK, 5 rows affected (0.15 sec)
Records: 5  Duplicates: 0  Warnings: 0

mysql> select * from person_details;
+-----------+---------+------+-------+--------+-------------+
| person_id | address | city | state | zip    | phonenumber |
+-----------+---------+------+-------+--------+-------------+
|         1 | aaa     | bbb  | ccc   | 123456 | 9876543210  |
|         2 | ddd     | eee  | fff   | 234567 | 8765432109  |
|         3 | ggg     | hhh  | iii   | 345678 | 7654321098  |
|         4 | jjj     | kkk  | lll   | 456789 | 6543210987  |
|         5 | mmm     | nnn  | ooo   | 567893 | 9807654321  |
+-----------+---------+------+-------+--------+-------------+
5 rows in set (0.00 sec)

mysql> show databases;
+---------------------------+
| Database                  |
+---------------------------+
| addressbook_normalization |
| addressbook_service       |
| information_schema        |
| mysql                     |
| payroll_service           |
| performance_schema        |
| sakila                    |
| sys                       |
| world                     |
+---------------------------+
9 rows in set (0.00 sec)

mysql> use addressbokk_normalization;
ERROR 1049 (42000): Unknown database 'addressbokk_normalization'
mysql> use addressbook_normalization;
Database changed
mysql> show tables;
+-------------------------------------+
| Tables_in_addressbook_normalization |
+-------------------------------------+
| contact_type                        |
| person                              |
| person_details                      |
| person_type                         |
+-------------------------------------+
4 rows in set (0.01 sec)

mysql> select * from person;
+-----------+------------+-----------+
| person_id | first_name | last_name |
+-----------+------------+-----------+
|         1 | Kallavai   | Sravanthi |
|         2 | Bhavya     | Maligi    |
|         3 | Teja       | Busu      |
|         4 | chitti     | abc       |
|         5 | Buddu      | def       |
+-----------+------------+-----------+
5 rows in set (0.03 sec)

mysql> select * from person_details;
+-----------+---------+------+-------+--------+-------------+
| person_id | address | city | state | zip    | phonenumber |
+-----------+---------+------+-------+--------+-------------+
|         1 | aaa     | bbb  | ccc   | 123456 | 9876543210  |
|         2 | ddd     | eee  | fff   | 234567 | 8765432109  |
|         3 | ggg     | hhh  | iii   | 345678 | 7654321098  |
|         4 | jjj     | kkk  | lll   | 456789 | 6543210987  |
|         5 | mmm     | nnn  | ooo   | 567893 | 9807654321  |
+-----------+---------+------+-------+--------+-------------+
5 rows in set (0.00 sec)

mysql> select * from contact_type;
+---------+------------+
| type_id | type_name  |
+---------+------------+
|       1 | Friends    |
|       2 | Family     |
|       3 | Profession |
+---------+------------+
3 rows in set (0.02 sec)

mysql> select * from person_type;
+-----------+---------+
| person_id | type_id |
+-----------+---------+
|         1 |       3 |
|         2 |       1 |
|         3 |       2 |
|         4 |       1 |
|         5 |       3 |
+-----------+---------+
5 rows in set (0.05 sec)

mysql> describe person;
+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| person_id  | int          | NO   | PRI | NULL    | auto_increment |
| first_name | varchar(250) | YES  |     | NULL    |                |
| last_name  | varchar(250) | YES  |     | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
3 rows in set (0.00 sec)

mysql> insert into person_type (person_id, type_id) values
    -> (1, 2),
    -> (2, 3);
Query OK, 2 rows affected (0.18 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> select * from person_type;
+-----------+---------+
| person_id | type_id |
+-----------+---------+
|         1 |       3 |
|         2 |       1 |
|         3 |       2 |
|         4 |       1 |
|         5 |       3 |
|         1 |       2 |
|         2 |       3 |
+-----------+---------+
7 rows in set (0.00 sec)

mysql> select person.person_id,person_type. person_id from person INNER JOIN person_type on person.person_id=person_type.person_id;
+-----------+-----------+
| person_id | person_id |
+-----------+-----------+
|         1 |         1 |
|         1 |         1 |
|         2 |         2 |
|         2 |         2 |
|         3 |         3 |
|         4 |         4 |
|         5 |         5 |
+-----------+-----------+
7 rows in set (0.00 sec)

mysql> select person.person_id,person_type. type_id from person INNER JOIN person_type on person.person_id=person_type.person_id;
+-----------+---------+
| person_id | type_id |
+-----------+---------+
|         1 |       3 |
|         1 |       2 |
|         2 |       1 |
|         2 |       3 |
|         3 |       2 |
|         4 |       1 |
|         5 |       3 |
+-----------+---------+
7 rows in set (0.00 sec)

mysql> select * from person_details;
+-----------+---------+------+-------+--------+-------------+
| person_id | address | city | state | zip    | phonenumber |
+-----------+---------+------+-------+--------+-------------+
|         1 | aaa     | bbb  | ccc   | 123456 | 9876543210  |
|         2 | ddd     | eee  | fff   | 234567 | 8765432109  |
|         3 | ggg     | hhh  | iii   | 345678 | 7654321098  |
|         4 | jjj     | kkk  | lll   | 456789 | 6543210987  |
|         5 | mmm     | nnn  | ooo   | 567893 | 9807654321  |
+-----------+---------+------+-------+--------+-------------+
5 rows in set (0.24 sec)

mysql> select person.first_name, person_details.city from person INNER JOIN person_details on person.person_id=person_details.person_id where person_details.city='bbb';
+------------+------+
| first_name | city |
+------------+------+
| Kallavai   | bbb  |
+------------+------+
1 row in set (0.06 sec)

mysql> select state,COUNT(state) from person_details by state;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'by state' at line 1
mysql> select state,COUNT(state) from person_details group by state;
+-------+--------------+
| state | COUNT(state) |
+-------+--------------+
| ccc   |            1 |
| fff   |            1 |
| iii   |            1 |
| lll   |            1 |
| ooo   |            1 |
+-------+--------------+
5 rows in set (0.07 sec)

mysql> insert into person_details (person_id,address,city,state,zip,phonenumber) values
    -> (6,'abc', ^C
mysql> select type_id, COUNT(type_id) from person_type group by type_id;
+---------+----------------+
| type_id | COUNT(type_id) |
+---------+----------------+
|       1 |              2 |
|       2 |              2 |
|       3 |              3 |
+---------+----------------+
3 rows in set (0.11 sec)

mysql>


